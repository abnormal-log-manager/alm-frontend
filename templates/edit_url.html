{% extends "base.html" %}

{% block title %}Edit Issue - Abnormal Log Manager{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h2>Edit Event Details</h2>
    </div>

    <form method="POST">
        <div class="form-group">
            <label for="original_url" class="form-label">Original URL</label>
            <input 
                type="text" 
                id="original_url" 
                class="form-control" 
                value="{{ url.originalUrl }}" 
                readonly
            >
        </div>

        <div class="form-group">
            <label for="title" class="form-label">Title (optional)</label>
            <input 
                type="text" 
                id="title" 
                name="title" 
                class="form-control"
                placeholder="Enter custom title"
                value="{{ url.title }}"
            >
        </div>

        <div class="form-row">
            <div class="form-group" style="width: 48%; display: inline-block; margin-right: 4%;">
                <label for="team" class="form-label">Team</label>
                <select id="team" name="team" class="form-control" required>
                    {% for team in teams %}
                        <option value="{{ team }}" 
                            {% if url.team == team %}selected{% endif %}>
                            {{ team }}
                        </option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group" style="width: 48%; display: inline-block;">
                <label for="level" class="form-label">Level</label>
                <select id="level" name="level" class="form-control" required>
                    {% for level in levels %}
                        <option value="{{ level }}" 
                            {% if url.level == level %}selected{% endif %}>
                            {{ level }}
                        </option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <div style="margin-top: 1rem;">
            <button type="submit" class="btn btn-warning">ðŸ’¾ Save Changes</button>
            <a href="/" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>

<style>
.form-group {
    margin-bottom: 1rem;
}
</style>
{% endblock %}